<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Securing Applications and Services Guide -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>JavaScript Adapter | Securing Applications and Services Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../../topics/oidc/oidc-generic.html" />
    
    
    <link rel="prev" href="../../topics/oidc/java/application-clustering.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="2.2"
        data-chapter-title="JavaScript Adapter"
        data-filepath="topics/oidc/javascript-adapter.adoc"
        data-basepath="../.."
        data-revision="Wed Feb 08 2017 07:52:08 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="topics/overview/overview.html">
            
                
                    <a href="../../topics/overview/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="topics/overview/what-are-client-adapters.html">
            
                
                    <a href="../../topics/overview/what-are-client-adapters.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        What are Client Adapters?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="topics/overview/supported-platforms.html">
            
                
                    <a href="../../topics/overview/supported-platforms.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Supported Platforms
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="topics/overview/supported-protocols.html">
            
                
                    <a href="../../topics/overview/supported-protocols.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Supported Protocols
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="topics/oidc/oidc-overview.html">
            
                
                    <a href="../../topics/oidc/oidc-overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        OpenID Connect
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="topics/oidc/java/java-adapters.html">
            
                
                    <a href="../../topics/oidc/java/java-adapters.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Java Adapters
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="topics/oidc/java/java-adapter-config.html">
            
                
                    <a href="../../topics/oidc/java/java-adapter-config.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Java Adapters Config
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="topics/oidc/java/jboss-adapter.html">
            
                
                    <a href="../../topics/oidc/java/jboss-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        JBoss EAP/Wildfly Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="topics/oidc/java/fuse-adapter.html">
            
                
                    <a href="../../topics/oidc/java/fuse-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        JBoss Fuse Adapter
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="topics/oidc/java/fuse/classic-war.html">
            
                
                    <a href="../../topics/oidc/java/fuse/classic-war.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.1.</b>
                        
                        Classic WAR application
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="topics/oidc/java/fuse/servlet-whiteboard.html">
            
                
                    <a href="../../topics/oidc/java/fuse/servlet-whiteboard.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.2.</b>
                        
                        Servlet Deployed as OSGI Service
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="topics/oidc/java/fuse/camel.html">
            
                
                    <a href="../../topics/oidc/java/fuse/camel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.3.</b>
                        
                        Apache Camel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="topics/oidc/java/fuse/cxf-separate.html">
            
                
                    <a href="../../topics/oidc/java/fuse/cxf-separate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.4.</b>
                        
                        Apache CXF on Separate Jetty
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="topics/oidc/java/fuse/cxf-builtin.html">
            
                
                    <a href="../../topics/oidc/java/fuse/cxf-builtin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.5.</b>
                        
                        Apache CXF on default Jetty
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="topics/oidc/java/fuse/fuse-admin.html">
            
                
                    <a href="../../topics/oidc/java/fuse/fuse-admin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.6.</b>
                        
                        Fuse Admin Services
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="topics/oidc/java/tomcat-adapter.html">
            
                
                    <a href="../../topics/oidc/java/tomcat-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.4.</b>
                        
                        Tomcat 6, 7 and 8 Adapters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="topics/oidc/java/jetty9-adapter.html">
            
                
                    <a href="../../topics/oidc/java/jetty9-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.5.</b>
                        
                        Jetty 9.x Adapters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="topics/oidc/java/jetty8-adapter.html">
            
                
                    <a href="../../topics/oidc/java/jetty8-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.6.</b>
                        
                        Jetty 8.1.x Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.7" data-path="topics/oidc/java/spring-boot-adapter.html">
            
                
                    <a href="../../topics/oidc/java/spring-boot-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.7.</b>
                        
                        Spring Boot Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.8" data-path="topics/oidc/java/spring-security-adapter.html">
            
                
                    <a href="../../topics/oidc/java/spring-security-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.8.</b>
                        
                        Spring Security Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.9" data-path="topics/oidc/java/servlet-filter-adapter.html">
            
                
                    <a href="../../topics/oidc/java/servlet-filter-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.9.</b>
                        
                        Java Servlet Filter Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.10" data-path="topics/oidc/java/jaas.html">
            
                
                    <a href="../../topics/oidc/java/jaas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.10.</b>
                        
                        JAAS plugin
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.11" data-path="topics/oidc/java/adapter-context.html">
            
                
                    <a href="../../topics/oidc/java/adapter-context.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.11.</b>
                        
                        Security Context
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.12" data-path="topics/oidc/java/adapter_error_handling.html">
            
                
                    <a href="../../topics/oidc/java/adapter_error_handling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.12.</b>
                        
                        Error Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.13" data-path="topics/oidc/java/logout.html">
            
                
                    <a href="../../topics/oidc/java/logout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.13.</b>
                        
                        Logout
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.14" data-path="topics/oidc/java/params_forwarding.html">
            
                
                    <a href="../../topics/oidc/java/params_forwarding.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.14.</b>
                        
                        Parameters Forwarding
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.15" data-path="topics/oidc/java/multi-tenancy.html">
            
                
                    <a href="../../topics/oidc/java/multi-tenancy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.15.</b>
                        
                        Multi Tenancy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.16" data-path="topics/oidc/java/application-clustering.html">
            
                
                    <a href="../../topics/oidc/java/application-clustering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.16.</b>
                        
                        Application Clustering
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="topics/oidc/javascript-adapter.html">
            
                
                    <a href="../../topics/oidc/javascript-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        JavaScript Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="topics/oidc/oidc-generic.html">
            
                
                    <a href="../../topics/oidc/oidc-generic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Other OpenID Connect libraries
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="topics/oidc/mod-auth-openidc.html">
            
                
                    <a href="../../topics/oidc/mod-auth-openidc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.1.</b>
                        
                        mod_auth_oidc Apache HTTPD Module
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="topics/saml/saml-overview.html">
            
                
                    <a href="../../topics/saml/saml-overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        SAML
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="topics/saml/java/java-adapters.html">
            
                
                    <a href="../../topics/saml/java/java-adapters.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Java Adapters
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="topics/saml/java/general-config.html">
            
                
                    <a href="../../topics/saml/java/general-config.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        General Adapter Config
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="topics/saml/java/general-config/sp_element.html">
            
                
                    <a href="../../topics/saml/java/general-config/sp_element.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.1.</b>
                        
                        SP Element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="topics/saml/java/general-config/sp-keys.html">
            
                
                    <a href="../../topics/saml/java/general-config/sp-keys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.2.</b>
                        
                        SP Keys and Key elements
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.2.1" data-path="topics/saml/java/general-config/sp-keys/keystore_element.html">
            
                
                    <a href="../../topics/saml/java/general-config/sp-keys/keystore_element.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.2.1.</b>
                        
                        KeyStore Element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.2.2" data-path="topics/saml/java/general-config/sp-keys/key_pems.html">
            
                
                    <a href="../../topics/saml/java/general-config/sp-keys/key_pems.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.2.2.</b>
                        
                        Key PEMS
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="topics/saml/java/general-config/sp_principalname_mapping_element.html">
            
                
                    <a href="../../topics/saml/java/general-config/sp_principalname_mapping_element.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.3.</b>
                        
                        SP PrincipalNameMapping element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="topics/saml/java/general-config/roleidentifiers_element.html">
            
                
                    <a href="../../topics/saml/java/general-config/roleidentifiers_element.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.4.</b>
                        
                        RoleIdentifiers element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="topics/saml/java/general-config/idp_element.html">
            
                
                    <a href="../../topics/saml/java/general-config/idp_element.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.5.</b>
                        
                        IDP Element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.6" data-path="topics/saml/java/general-config/idp_singlesignonservice_subelement.html">
            
                
                    <a href="../../topics/saml/java/general-config/idp_singlesignonservice_subelement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.6.</b>
                        
                        IDP SingleSignOnService sub element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.7" data-path="topics/saml/java/general-config/idp_singlelogoutservice_subelement.html">
            
                
                    <a href="../../topics/saml/java/general-config/idp_singlelogoutservice_subelement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.7.</b>
                        
                        IDP SingleLogoutService sub element
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.1.8" data-path="topics/saml/java/general-config/idp_keys_subelement.html">
            
                
                    <a href="../../topics/saml/java/general-config/idp_keys_subelement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.8.</b>
                        
                        IDP Keys subelement
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="topics/saml/java/jboss-adapter.html">
            
                
                    <a href="../../topics/saml/java/jboss-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        JBoss EAP/Wildfly Adapter
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="topics/saml/java/jboss-adapter/jboss_adapter_installation.html">
            
                
                    <a href="../../topics/saml/java/jboss-adapter/jboss_adapter_installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.1.</b>
                        
                        Adapter Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="topics/saml/java/jboss-adapter/required_per_war_configuration.html">
            
                
                    <a href="../../topics/saml/java/jboss-adapter/required_per_war_configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.2.</b>
                        
                        Per WAR Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="topics/saml/java/jboss-adapter/securing_wars.html">
            
                
                    <a href="../../topics/saml/java/jboss-adapter/securing_wars.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.3.</b>
                        
                        Securing WARs via SAML Subsystem
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="topics/saml/java/tomcat-adapter.html">
            
                
                    <a href="../../topics/saml/java/tomcat-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.</b>
                        
                        Tomcat SAML adapters
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="topics/saml/java/tomcat-adapter/tomcat_adapter_installation.html">
            
                
                    <a href="../../topics/saml/java/tomcat-adapter/tomcat_adapter_installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.1.</b>
                        
                        Adapter Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" data-path="topics/saml/java/tomcat-adapter/tomcat_adapter_per_war_config.html">
            
                
                    <a href="../../topics/saml/java/tomcat-adapter/tomcat_adapter_per_war_config.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.2.</b>
                        
                        Per WAR Configuration
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="topics/saml/java/jetty-adapter.html">
            
                
                    <a href="../../topics/saml/java/jetty-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.</b>
                        
                        Jetty SAML Adapters
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.4.1" data-path="topics/saml/java/jetty-adapter/jetty9_installation.html">
            
                
                    <a href="../../topics/saml/java/jetty-adapter/jetty9_installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.1.</b>
                        
                        Jetty 9 Adapter Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4.2" data-path="topics/saml/java/jetty-adapter/jetty9_per_war_config.html">
            
                
                    <a href="../../topics/saml/java/jetty-adapter/jetty9_per_war_config.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.2.</b>
                        
                        Jetty 9 Per WAR Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4.3" data-path="topics/saml/java/jetty-adapter/jetty8-installation.html">
            
                
                    <a href="../../topics/saml/java/jetty-adapter/jetty8-installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.3.</b>
                        
                        Jetty 8 Adapter Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4.4" data-path="topics/saml/java/jetty-adapter/jetty8-per_war_config.html">
            
                
                    <a href="../../topics/saml/java/jetty-adapter/jetty8-per_war_config.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.4.</b>
                        
                        Jetty 8 Per WAR Configuration
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="topics/saml/java/servlet-filter-adapter.html">
            
                
                    <a href="../../topics/saml/java/servlet-filter-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.</b>
                        
                        Java Servlet Filter Adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="topics/saml/java/idp-registration.html">
            
                
                    <a href="../../topics/saml/java/idp-registration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.6.</b>
                        
                        Registering with an IDP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="topics/saml/java/logout.html">
            
                
                    <a href="../../topics/saml/java/logout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.7.</b>
                        
                        Logout
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="topics/saml/java/assertion-api.html">
            
                
                    <a href="../../topics/saml/java/assertion-api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.8.</b>
                        
                        Obtaining Assertion Attributes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.9" data-path="topics/saml/java/error_handling.html">
            
                
                    <a href="../../topics/saml/java/error_handling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.9.</b>
                        
                        Error Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.10" data-path="topics/saml/java/debugging.html">
            
                
                    <a href="../../topics/saml/java/debugging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.10.</b>
                        
                        Troubleshooting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.11" data-path="topics/saml/java/MigrationFromOlderVersions.html">
            
                
                    <a href="../../topics/saml/java/MigrationFromOlderVersions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.11.</b>
                        
                        Migration from older versions
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="topics/saml/mod-auth-mellon.html">
            
                
                    <a href="../../topics/saml/mod-auth-mellon.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        mod_auth_mellon Apache HTTPD Module
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="topics/client-registration.html">
            
                
                    <a href="../../topics/client-registration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Client Registration
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Securing Applications and Services Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <div class="sect2">
<h3 id="_javascript_adapter">Javascript Adapter</h3>
<div class="paragraph">
<p>Keycloak comes with a client-side JavaScript library that can be used to secure HTML5/JavaScript applications. The JavaScript adapter has built-in
support for Cordova applications.</p>
</div>
<div class="paragraph">
<p>The library can be retrieved directly from the Keycloak server at <code>/auth/js/keycloak.js</code> and is also distributed as a ZIP archive.</p>
</div>
<div class="paragraph">
<p>One important thing to note about using client-side applications is that the client has to be a public client as there is no secure way to store client
credentials in a client-side application. This makes it very important to make sure the redirect URIs you have configured for the client are correct and as
specific as possible.</p>
</div>
<div class="paragraph">
<p>To use the JavaScript adapter you must first create a client for your application in the Keycloak Administration Console. Make sure <code>public</code>
is selected for <code>Access Type</code>.</p>
</div>
<div class="paragraph">
<p>You also need to configure valid redirect URIs and valid web origins. Be as specific as possible as failing to do so may result in a security vulnerability.</p>
</div>
<div class="paragraph">
<p>Once the client is created click on the <code>Installation</code> tab select <code>Keycloak OIDC JSON</code> for <code>Format Option</code> then click on <code>Download</code>. The downloaded
<code>keycloak.json</code> file should be hosted on your web server at the same location as your HTML pages.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can skip the configuration file and manually configure the adapter.</p>
</div>
<div class="paragraph">
<p>The following example shows how to initialize the JavaScript adapter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html"><span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;keycloak.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="actionscript">
        <span class="hljs-keyword">var</span> keycloak = Keycloak();
        keycloak.init().success(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(authenticated)</span> </span>{
            alert(authenticated ? <span class="hljs-string">&apos;authenticated&apos;</span> : <span class="hljs-string">&apos;not authenticated&apos;</span>);
        }).error(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            alert(<span class="hljs-string">&apos;failed to initialize&apos;</span>);
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>keycloak.json</code> file is in a different location you can specify it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">var</span> keycloak = Keycloak(<span class="hljs-string">&apos;http://localhost:8080/myapp/keycloak.json&apos;</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can pass in a JavaScript object with the required configuration instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">var</span> keycloak = Keycloak({
    url: <span class="hljs-string">&apos;http://keycloak-server/auth&apos;</span>,
    realm: <span class="hljs-string">&apos;myrealm&apos;</span>,
    clientId: <span class="hljs-string">&apos;myapp&apos;</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default to authenticate you need to call the <code>login</code> function. However, there are two options available to make the adapter automatically authenticate. You
can pass <code>login-required</code> or <code>check-sso</code> to the init function. <code>login-required</code> will authenticate the client if the user is logged-in to Keycloak
or display the login page if not. <code>check-sso</code> will only authenticate the client if the user is already logged-in, if the user is not logged-in the browser will be
redirected back to the application and remain unauthenticated.</p>
</div>
<div class="paragraph">
<p>To enable <code>login-required</code> set <code>onLoad</code> to <code>login-required</code> and pass to the init method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>keycloak.init({ onLoad: &apos;login-required&apos; })</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the user is authenticated the application can make requests to RESTful services secured by Keycloak by including the bearer token in the
<code>Authorization</code> header. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">var</span> loadData = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;username&apos;</span>).innerText = keycloak.username;

    <span class="hljs-keyword">var</span> url = <span class="hljs-string">&apos;http://localhost:8080/restful-service&apos;</span>;

    <span class="hljs-keyword">var</span> req = <span class="hljs-keyword">new</span> XMLHttpRequest();
    req.open(<span class="hljs-string">&apos;GET&apos;</span>, url, <span class="hljs-literal">true</span>);
    req.setRequestHeader(<span class="hljs-string">&apos;Accept&apos;</span>, <span class="hljs-string">&apos;application/json&apos;</span>);
    req.setRequestHeader(<span class="hljs-string">&apos;Authorization&apos;</span>, <span class="hljs-string">&apos;Bearer &apos;</span> + keycloak.token);

    req.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (req.readyState == <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">if</span> (req.status == <span class="hljs-number">200</span>) {
                alert(<span class="hljs-string">&apos;Success&apos;</span>);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.status == <span class="hljs-number">403</span>) {
                alert(<span class="hljs-string">&apos;Forbidden&apos;</span>);
            }
        }
    }

    req.send();
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>One thing to keep in mind is that the access token by default has a short life expiration so you may need to refresh the access token prior to sending the
request. You can do this by the <code>updateToken</code> method. The <code>updateToken</code> method returns a promise object which makes it easy to invoke the service only if the
token was successfully refreshed and for example display an error to the user if it wasn&#x2019;t. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">keycloak.updateToken(<span class="hljs-number">30</span>).success(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    loadData();
}).error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-string">&apos;Failed to refresh token&apos;</span>);
);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_session_status_iframe">Session status iframe</h4>
<div class="paragraph">
<p>By default, the JavaScript adapter creates a hidden iframe that is used to detect if a Single-Sign Out has occurred.
This does not require any network traffic, instead the status is retrieved by looking at a special status cookie.
This feature can be disabled by setting <code>checkLoginIframe: false</code> in the options passed to the <code>init</code> method.</p>
</div>
<div class="paragraph">
<p>You should not rely on looking at this cookie directly. It&#x2019;s format can change and it&#x2019;s also associated with the URL of the Keycloak server, not
your application.</p>
</div>
</div>
<div class="sect3">
<h4 id="_javascript_implicit_flow">Implicit and Hybrid Flow</h4>
<div class="paragraph">
<p>By default, the JavaScript adapter uses the <a href="http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth" target="_blank">Authorization Code</a> flow.</p>
</div>
<div class="paragraph">
<p>With this flow the Keycloak server returns an authorization code, not an authentication token, to the application. The JavaScript adapter exchanges
the <code>code</code> for an access token and a refresh token after the browser is redirected back to the application.</p>
</div>
<div class="paragraph">
<p>Keycloak also supports the <a href="http://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth" target="_blank">Implicit</a> flow where an access token
is sent immediately after successful authentication with Keycloak. This may have better performance than standard flow, as there is no additional
request to exchange the code for tokens, but it has implications when the access token expires.</p>
</div>
<div class="paragraph">
<p>However, sending the access token in the URL fragment can be a security vulnerability. For example the token could be leaked through web server logs and or
browser history.</p>
</div>
<div class="paragraph">
<p>To enable implicit flow, you need to enable the <code>Implicit Flow Enabled</code> flag for the client in the Keycloak Administration Console.
You also need to pass the parameter <code>flow</code> with value <code>implicit</code> to <code>init</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">keycloak.init({ flow: <span class="hljs-string">&apos;implicit&apos;</span> })</code></pre>
</div>
</div>
<div class="paragraph">
<p>One thing to note is that only an access token is provided and there is no refresh token. This means that once the access token has expired the application
has to do the redirect to the Keycloak again to obtain a new access token.</p>
</div>
<div class="paragraph">
<p>Keycloak also supports the <a href="http://openid.net/specs/openid-connect-core-1_0.html#HybridFlowAuth" target="_blank">Hybrid</a> flow.</p>
</div>
<div class="paragraph">
<p>This requires the client to have both the <code>Standard Flow Enabled</code> and <code>Implicit Flow Enabled</code> flags enabled in the admin console.
The Keycloak server will then send both the code and tokens to your application.
The access token can be used immediately while the code can be exchanged for access and refresh tokens.
Similar to the implicit flow, the hybrid flow is good for performance because the access token is available immediately.
But, the token is still sent in the URL, and the security vulnerability mentioned earlier may still apply.</p>
</div>
<div class="paragraph">
<p>One advantage in the Hybrid flow is that the refresh token is made available to the application.</p>
</div>
<div class="paragraph">
<p>For the Hybrid flow, you need to pass the parameter <code>flow</code> with value <code>hybrid</code> to the <code>init</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">keycloak.init({ flow: <span class="hljs-string">&apos;hybrid&apos;</span> })</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_older_browsers">Older browsers</h4>
<div class="paragraph">
<p>The JavaScript adapter depends on Base64 (window.btoa and window.atob) and HTML5 History API.
If you need to support browsers that don&#x2019;t have these available (for example IE9) you need to add polyfillers.</p>
</div>
<div class="paragraph">
<p>Example polyfill libraries:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/davidchambers/Base64.js" class="bare" target="_blank">https://github.com/davidchambers/Base64.js</a></p>
</li>
<li>
<p><a href="https://github.com/devote/HTML5-History-API" class="bare" target="_blank">https://github.com/devote/HTML5-History-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_javascript_adapter_reference">JavaScript Adapter reference</h4>
<div class="sect4">
<h5 id="_constructor">Constructor</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>new Keycloak();
new Keycloak(&apos;http://localhost/keycloak.json&apos;);
new Keycloak({ url: &apos;http://localhost/auth&apos;, realm: &apos;myrealm&apos;, clientId: &apos;myApp&apos; });</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_properties">Properties</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">authenticated</dt>
<dd>
<p>Is <code>true</code> if the user is authenticated, <code>false</code> otherwise.</p>
</dd>
<dt class="hdlist1">token</dt>
<dd>
<p>The base64 encoded token that can be sent in the <code>Authorization</code> header in requests to services.</p>
</dd>
<dt class="hdlist1">tokenParsed</dt>
<dd>
<p>The parsed token as a JavaScript object.</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>The user id.</p>
</dd>
<dt class="hdlist1">idToken</dt>
<dd>
<p>The base64 encoded ID token.</p>
</dd>
<dt class="hdlist1">idTokenParsed</dt>
<dd>
<p>The parsed id token as a JavaScript object.</p>
</dd>
<dt class="hdlist1">realmAccess</dt>
<dd>
<p>The realm roles associated with the token.</p>
</dd>
<dt class="hdlist1">resourceAccess</dt>
<dd>
<p>The resource roles assocaited with the token.</p>
</dd>
<dt class="hdlist1">refreshToken</dt>
<dd>
<p>The base64 encoded refresh token that can be used to retrieve a new token.</p>
</dd>
<dt class="hdlist1">refreshTokenParsed</dt>
<dd>
<p>The parsed refresh token as a JavaScript object.</p>
</dd>
<dt class="hdlist1">timeSkew</dt>
<dd>
<p>The estimated time difference between the browser time and the Keycloak server in seconds. This value is just an estimation, but is accurate
enough when determining if a token is expired or not.</p>
</dd>
<dt class="hdlist1">responseMode</dt>
<dd>
<p>Response mode passed in init (default value is fragment).</p>
</dd>
<dt class="hdlist1">flow</dt>
<dd>
<p>Flow passed in init.</p>
</dd>
<dt class="hdlist1">responseType</dt>
<dd>
<p>Response type sent to Keycloak with login requests. This is determined based on the flow value used during initialization, but can be overridden by setting this value.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_methods">Methods</h5>
<div class="sect5">
<h6 id="_init_options">init(options)</h6>
<div class="paragraph">
<p>Called to initialize the adapter.</p>
</div>
<div class="paragraph">
<p>Options is an Object, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>onLoad - Specifies an action to do on load. Supported values are &apos;login-required&apos; or &apos;check-sso&apos;.</p>
</li>
<li>
<p>token - Set an initial value for the token.</p>
</li>
<li>
<p>refreshToken - Set an initial value for the refresh token.</p>
</li>
<li>
<p>idToken - Set an initial value for the id token (only together with token or refreshToken).</p>
</li>
<li>
<p>timeSkew - Set an initial value for skew between local time and Keycloak server in seconds (only together with token or refreshToken).</p>
</li>
<li>
<p>checkLoginIframe - Set to enable/disable monitoring login state (default is true).</p>
</li>
<li>
<p>checkLoginIframeInterval - Set the interval to check login state (default is 5 seconds).</p>
</li>
<li>
<p>responseMode - Set the OpenID Connect response mode send to Keycloak server at login request. Valid values are query or fragment . Default value is fragment, which means that after successful authentication will Keycloak redirect to javascript application with OpenID Connect parameters added in URL fragment. This is generally safer and recommended over query.</p>
</li>
<li>
<p>flow - Set the OpenID Connect flow. Valid values are standard, implicit or hybrid.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Returns promise to set functions to be invoked on success or error.</p>
</div>
</div>
<div class="sect5">
<h6 id="_login_options">login(options)</h6>
<div class="paragraph">
<p>Redirects to login form on (options is an optional object with redirectUri and/or prompt fields).</p>
</div>
<div class="paragraph">
<p>Options is an Object, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>redirectUri - Specifies the uri to redirect to after login.</p>
</li>
<li>
<p>prompt - By default the login screen is displayed if the user is not logged-in to Keycloak. To only authenticate to the application if the user is already logged-in and not display the login page if the user is not logged-in, set this option to <code>none</code>. To always require re-authentication and ignore SSO, set this option to <code>login</code> .</p>
</li>
<li>
<p>maxAge - Used just if user is already authenticated. Specifies maximum time since the authentication of user happened. If user is already authenticated for longer time than <code>maxAge</code>, the SSO is ignored and he will need to re-authenticate again.</p>
</li>
<li>
<p>loginHint - Used to pre-fill the username/email field on the login form.</p>
</li>
<li>
<p>action - If value is &apos;register&apos; then user is redirected to registration page, otherwise to login page.</p>
</li>
<li>
<p>locale - Specifies the desired locale for the UI.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_createloginurl_options">createLoginUrl(options)</h6>
<div class="paragraph">
<p>Returns the URL to login form on (options is an optional object with redirectUri and/or prompt fields).</p>
</div>
<div class="paragraph">
<p>Options is an Object, which supports same options like the function <code>login</code> .</p>
</div>
</div>
<div class="sect5">
<h6 id="_logout_options">logout(options)</h6>
<div class="paragraph">
<p>Redirects to logout.</p>
</div>
<div class="paragraph">
<p>Options is an Object, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>redirectUri - Specifies the uri to redirect to after logout.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_createlogouturl_options">createLogoutUrl(options)</h6>
<div class="paragraph">
<p>Returns the URL to logout the user.</p>
</div>
<div class="paragraph">
<p>Options is an Object, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>redirectUri - Specifies the uri to redirect to after logout.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_register_options">register(options)</h6>
<div class="paragraph">
<p>Redirects to registration form. Shortcut for login with option action = &apos;register&apos;</p>
</div>
<div class="paragraph">
<p>Options are same as for the login method but &apos;action&apos; is set to &apos;register&apos;</p>
</div>
</div>
<div class="sect5">
<h6 id="_createregisterurl_options">createRegisterUrl(options)</h6>
<div class="paragraph">
<p>Returns the url to registration page. Shortcut for createLoginUrl with option action = &apos;register&apos;</p>
</div>
<div class="paragraph">
<p>Options are same as for the createLoginUrl method but &apos;action&apos; is set to &apos;register&apos;</p>
</div>
</div>
<div class="sect5">
<h6 id="_accountmanagement">accountManagement()</h6>
<div class="paragraph">
<p>Redirects to the Account Management Console.</p>
</div>
</div>
<div class="sect5">
<h6 id="_createaccounturl">createAccountUrl()</h6>
<div class="paragraph">
<p>Returns the URL to the Account Management Console.</p>
</div>
</div>
<div class="sect5">
<h6 id="_hasrealmrole_role">hasRealmRole(role)</h6>
<div class="paragraph">
<p>Returns true if the token has the given realm role.</p>
</div>
</div>
<div class="sect5">
<h6 id="_hasresourcerole_role_resource">hasResourceRole(role, resource)</h6>
<div class="paragraph">
<p>Returns true if the token has the given role for the resource (resource is optional, if not specified clientId is used).</p>
</div>
</div>
<div class="sect5">
<h6 id="_loaduserprofile">loadUserProfile()</h6>
<div class="paragraph">
<p>Loads the users profile.</p>
</div>
<div class="paragraph">
<p>Returns promise to set functions to be invoked on success or error.</p>
</div>
</div>
<div class="sect5">
<h6 id="_istokenexpired_minvalidity">isTokenExpired(minValidity)</h6>
<div class="paragraph">
<p>Returns true if the token has less than minValidity seconds left before it expires (minValidity is optional, if not specified 0 is used).</p>
</div>
</div>
<div class="sect5">
<h6 id="_updatetoken_minvalidity">updateToken(minValidity)</h6>
<div class="paragraph">
<p>If the token expires within minValidity seconds (minValidity is optional, if not specified 0 is used) the token is refreshed.
If the session status iframe is enabled, the session status is also checked.</p>
</div>
<div class="paragraph">
<p>Returns promise to set functions that can be invoked if the token is still valid, or if the token is no longer valid.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">keycloak.updateToken(<span class="hljs-number">5</span>).success(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">refreshed</span>) </span>{
        <span class="hljs-keyword">if</span> (refreshed) {
            alert(<span class="hljs-string">&apos;Token was successfully refreshed&apos;</span>);
        } <span class="hljs-keyword">else</span> {
            alert(<span class="hljs-string">&apos;Token is still valid&apos;</span>);
        }
    }).error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        alert(<span class="hljs-string">&apos;Failed to refresh the token, or the session has expired&apos;</span>);
    });</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_cleartoken">clearToken()</h6>
<div class="paragraph">
<p>Clear authentication state, including tokens.
This can be useful if application has detected the session was expired, for example if updating token fails.</p>
</div>
<div class="paragraph">
<p>Invoking this results in onAuthLogout callback listener being invoked.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_callback_events">Callback Events</h5>
<div class="paragraph">
<p>The adapter supports setting callback listeners for certain events.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>keycloak.onAuthSuccess = function() { alert(&apos;authenticated&apos;); }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The available events are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>onReady(authenticated) - Called when the adapter is initialized.</p>
</li>
<li>
<p>onAuthSuccess - Called when a user is successfully authenticated.</p>
</li>
<li>
<p>onAuthError - Called if there was an error during authentication.</p>
</li>
<li>
<p>onAuthRefreshSuccess - Called when the token is refreshed.</p>
</li>
<li>
<p>onAuthRefreshError - Called if there was an error while trying to refresh the token.</p>
</li>
<li>
<p>onAuthLogout - Called if the user is logged out (will only be called if the session status iframe is enabled, or in Cordova mode).</p>
</li>
<li>
<p>onTokenExpired - Called when the access token is expired. When this happens you can for refresh the token, or if refresh is not available (ie. with implicit flow) you can redirect to login screen.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../topics/oidc/java/application-clustering.html" class="navigation navigation-prev " aria-label="Previous page: Application Clustering"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../topics/oidc/oidc-generic.html" class="navigation navigation-next " aria-label="Next page: Other OpenID Connect libraries"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-ungrey/ungrey.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"toggle-chapters":{},"ungrey":{},"splitter":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book Securing Applications and Services Guide -->
</html>
