<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Server Administration Guide -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>LDAP/AD Integration | Server Administration Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../../topics/user-federation/custom.html" />
    
    
    <link rel="prev" href="../../topics/user-federation.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="14.1"
        data-chapter-title="LDAP/AD Integration"
        data-filepath="topics/user-federation/ldap.adoc"
        data-basepath="../.."
        data-revision="Wed Feb 08 2017 07:52:11 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="topics/overview.html">
            
                
                    <a href="../../topics/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="topics/overview/features.html">
            
                
                    <a href="../../topics/overview/features.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Features
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="topics/overview/how.html">
            
                
                    <a href="../../topics/overview/how.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        How Does Security Work?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="topics/overview/concepts.html">
            
                
                    <a href="../../topics/overview/concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Core Concepts and Terms
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="topics/initialization.html">
            
                
                    <a href="../../topics/initialization.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Server Initialization
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="topics/admin-console.html">
            
                
                    <a href="../../topics/admin-console.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Admin Console
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="topics/realms/master.html">
            
                
                    <a href="../../topics/realms/master.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        The Master Realm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="topics/realms/create.html">
            
                
                    <a href="../../topics/realms/create.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Creating a New Realm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="topics/realms/ssl.html">
            
                
                    <a href="../../topics/realms/ssl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Realm SSL Mode
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="topics/realms/keys.html">
            
                
                    <a href="../../topics/realms/keys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Realm Key Pairs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="topics/realms/cache.html">
            
                
                    <a href="../../topics/realms/cache.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Clearing Server Caches
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="topics/realms/email.html">
            
                
                    <a href="../../topics/realms/email.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Email Settings
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="topics/realms/themes.html">
            
                
                    <a href="../../topics/realms/themes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Themes and Internationalization
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="topics/users.html">
            
                
                    <a href="../../topics/users.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        User Management
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="topics/users/viewing.html">
            
                
                    <a href="../../topics/users/viewing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Viewing Users
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="topics/users/create-user.html">
            
                
                    <a href="../../topics/users/create-user.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Creating New Users
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="topics/users/attributes.html">
            
                
                    <a href="../../topics/users/attributes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        User Attributes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="topics/users/credentials.html">
            
                
                    <a href="../../topics/users/credentials.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Credentials
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="topics/users/required-actions.html">
            
                
                    <a href="../../topics/users/required-actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Required Actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="topics/users/impersonation.html">
            
                
                    <a href="../../topics/users/impersonation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Impersonation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="topics/users/user-registration.html">
            
                
                    <a href="../../topics/users/user-registration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        User Registration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.7.1" data-path="topics/users/recaptcha.html">
            
                
                    <a href="../../topics/users/recaptcha.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.1.</b>
                        
                        Recaptcha Support
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="topics/login-settings.html">
            
                
                    <a href="../../topics/login-settings.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Login Page Settings
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="topics/login-settings/forgot-password.html">
            
                
                    <a href="../../topics/login-settings/forgot-password.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Forgot Password
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="topics/login-settings/remember-me.html">
            
                
                    <a href="../../topics/login-settings/remember-me.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Remember Me
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="topics/authentication.html">
            
                
                    <a href="../../topics/authentication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Authentication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="topics/authentication/password-policies.html">
            
                
                    <a href="../../topics/authentication/password-policies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Password Policies
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="topics/authentication/otp-policies.html">
            
                
                    <a href="../../topics/authentication/otp-policies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        OTP Policies
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="topics/authentication/flows.html">
            
                
                    <a href="../../topics/authentication/flows.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Authentication Flows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="topics/authentication/kerberos.html">
            
                
                    <a href="../../topics/authentication/kerberos.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Kerberos
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="topics/sso-protocols.html">
            
                
                    <a href="../../topics/sso-protocols.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        SSO Protocols
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="topics/sso-protocols/oidc.html">
            
                
                    <a href="../../topics/sso-protocols/oidc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        OpenID Connect
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="topics/sso-protocols/saml.html">
            
                
                    <a href="../../topics/sso-protocols/saml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        SAML
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="topics/sso-protocols/saml-vs-oidc.html">
            
                
                    <a href="../../topics/sso-protocols/saml-vs-oidc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        OIDC vs. SAML
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="topics/clients.html">
            
                
                    <a href="../../topics/clients.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Managing Clients
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="topics/clients/client-oidc.html">
            
                
                    <a href="../../topics/clients/client-oidc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        OIDC Clients
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="topics/clients/oidc/confidential.html">
            
                
                    <a href="../../topics/clients/oidc/confidential.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.1.</b>
                        
                        Confidential Client Credentials
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.1.2" data-path="topics/clients/oidc/service-accounts.html">
            
                
                    <a href="../../topics/clients/oidc/service-accounts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.2.</b>
                        
                        Service Accounts
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="topics/clients/client-saml.html">
            
                
                    <a href="../../topics/clients/client-saml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        SAML Clients
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.2.1" data-path="topics/clients/saml/idp-initiated-login.html">
            
                
                    <a href="../../topics/clients/saml/idp-initiated-login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.1.</b>
                        
                        IDP Initiated Login
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2.2" data-path="topics/clients/saml/entity-descriptors.html">
            
                
                    <a href="../../topics/clients/saml/entity-descriptors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.2.</b>
                        
                        SAML Entity Descriptors
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="topics/clients/client-link.html">
            
                
                    <a href="../../topics/clients/client-link.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Client Links
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="topics/clients/protocol-mappers.html">
            
                
                    <a href="../../topics/clients/protocol-mappers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Token and Assertion Mappings
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="topics/clients/installation.html">
            
                
                    <a href="../../topics/clients/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Generating Client Adapter Config
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="topics/clients/client-templates.html">
            
                
                    <a href="../../topics/clients/client-templates.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        Client Templates
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="topics/roles.html">
            
                
                    <a href="../../topics/roles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Roles
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="topics/roles/realm-roles.html">
            
                
                    <a href="../../topics/roles/realm-roles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Realm Roles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="topics/roles/client-roles.html">
            
                
                    <a href="../../topics/roles/client-roles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Client Roles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="topics/roles/composite.html">
            
                
                    <a href="../../topics/roles/composite.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        Composite Roles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="topics/roles/user-role-mappings.html">
            
                
                    <a href="../../topics/roles/user-role-mappings.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        User Role Mappings
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.4.1" data-path="topics/roles/user-role-mappings/default-roles.html">
            
                
                    <a href="../../topics/roles/user-role-mappings/default-roles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.1.</b>
                        
                        Default Roles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="topics/roles/client-scope.html">
            
                
                    <a href="../../topics/roles/client-scope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Client Scope
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="topics/groups.html">
            
                
                    <a href="../../topics/groups.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Groups
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="topics/groups/groups-vs-roles.html">
            
                
                    <a href="../../topics/groups/groups-vs-roles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Groups Vs. Roles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="topics/groups/default-groups.html">
            
                
                    <a href="../../topics/groups/default-groups.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Default Groups
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="topics/admin-console-permissions.html">
            
                
                    <a href="../../topics/admin-console-permissions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Admin Console Access Control and Permissions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1" data-path="topics/admin-console-permissions/master-realm.html">
            
                
                    <a href="../../topics/admin-console-permissions/master-realm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.</b>
                        
                        Master Realm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="topics/admin-console-permissions/per-realm.html">
            
                
                    <a href="../../topics/admin-console-permissions/per-realm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.2.</b>
                        
                        Dedicated Realm Admin Consoles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12" data-path="topics/identity-broker.html">
            
                
                    <a href="../../topics/identity-broker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Identity Brokering
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="topics/identity-broker/overview.html">
            
                
                    <a href="../../topics/identity-broker/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Brokering Overview
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="topics/identity-broker/configuration.html">
            
                
                    <a href="../../topics/identity-broker/configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        General Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="topics/identity-broker/social-login.html">
            
                
                    <a href="../../topics/identity-broker/social-login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.</b>
                        
                        Social Login
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.3.1" data-path="topics/identity-broker/social/google.html">
            
                
                    <a href="../../topics/identity-broker/social/google.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.1.</b>
                        
                        Google
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3.2" data-path="topics/identity-broker/social/facebook.html">
            
                
                    <a href="../../topics/identity-broker/social/facebook.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.2.</b>
                        
                        Facebook
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3.3" data-path="topics/identity-broker/social/twitter.html">
            
                
                    <a href="../../topics/identity-broker/social/twitter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.3.</b>
                        
                        Twitter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3.4" data-path="topics/identity-broker/social/github.html">
            
                
                    <a href="../../topics/identity-broker/social/github.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.4.</b>
                        
                        Github
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3.5" data-path="topics/identity-broker/social/linked-in.html">
            
                
                    <a href="../../topics/identity-broker/social/linked-in.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.5.</b>
                        
                        Linked-In
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3.6" data-path="topics/identity-broker/social/microsoft.html">
            
                
                    <a href="../../topics/identity-broker/social/microsoft.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.6.</b>
                        
                        Microsoft
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3.7" data-path="topics/identity-broker/social/stack-overflow.html">
            
                
                    <a href="../../topics/identity-broker/social/stack-overflow.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.7.</b>
                        
                        Stack Overflow
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12.4" data-path="topics/identity-broker/oidc.html">
            
                
                    <a href="../../topics/identity-broker/oidc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.4.</b>
                        
                        OIDC Providers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.5" data-path="topics/identity-broker/saml.html">
            
                
                    <a href="../../topics/identity-broker/saml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.5.</b>
                        
                        SAML Providers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.6" data-path="topics/identity-broker/suggested.html">
            
                
                    <a href="../../topics/identity-broker/suggested.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.6.</b>
                        
                        Client Suggested Identity Provider
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.7" data-path="topics/identity-broker/mappers.html">
            
                
                    <a href="../../topics/identity-broker/mappers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.7.</b>
                        
                        Mapping Claims and Assertions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.8" data-path="topics/identity-broker/session-data.html">
            
                
                    <a href="../../topics/identity-broker/session-data.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.8.</b>
                        
                        Available User Session Data
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.9" data-path="topics/identity-broker/first-login-flow.html">
            
                
                    <a href="../../topics/identity-broker/first-login-flow.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.9.</b>
                        
                        First Login Flow
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.10" data-path="topics/identity-broker/tokens.html">
            
                
                    <a href="../../topics/identity-broker/tokens.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.10.</b>
                        
                        Retrieving External IDP Tokens
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="topics/sessions.html">
            
                
                    <a href="../../topics/sessions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        User Session Management
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="topics/sessions/administering.html">
            
                
                    <a href="../../topics/sessions/administering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        Administering Sessions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="topics/sessions/revocation.html">
            
                
                    <a href="../../topics/sessions/revocation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        Revocation Policies
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="topics/sessions/timeouts.html">
            
                
                    <a href="../../topics/sessions/timeouts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        Session and Token Timeouts
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="topics/sessions/offline.html">
            
                
                    <a href="../../topics/sessions/offline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.4.</b>
                        
                        Offline Access
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="topics/user-federation.html">
            
                
                    <a href="../../topics/user-federation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        User Storage Federation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="14.1" data-path="topics/user-federation/ldap.html">
            
                
                    <a href="../../topics/user-federation/ldap.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.1.</b>
                        
                        LDAP/AD Integration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="topics/user-federation/custom.html">
            
                
                    <a href="../../topics/user-federation/custom.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.2.</b>
                        
                        Custom Providers
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="15" data-path="topics/events.html">
            
                
                    <a href="../../topics/events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Auditing and Events
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="topics/events/login.html">
            
                
                    <a href="../../topics/events/login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        Login Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="topics/events/admin.html">
            
                
                    <a href="../../topics/events/admin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.2.</b>
                        
                        Admin Events
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="topics/export-import.html">
            
                
                    <a href="../../topics/export-import.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Export and Import
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="topics/account.html">
            
                
                    <a href="../../topics/account.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        User Account Service
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="topics/threat.html">
            
                
                    <a href="../../topics/threat.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Threat Model Mitigation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1" data-path="topics/threat/brute-force.html">
            
                
                    <a href="../../topics/threat/brute-force.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.1.</b>
                        
                        Password Guess, Brute Force Attacks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.2" data-path="topics/threat/clickjacking.html">
            
                
                    <a href="../../topics/threat/clickjacking.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.2.</b>
                        
                        Clickjacking
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.3" data-path="topics/threat/ssl.html">
            
                
                    <a href="../../topics/threat/ssl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.3.</b>
                        
                        SSL/HTTPS Requirement
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.4" data-path="topics/threat/csrf.html">
            
                
                    <a href="../../topics/threat/csrf.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.4.</b>
                        
                        CSRF
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.5" data-path="topics/threat/redirect.html">
            
                
                    <a href="../../topics/threat/redirect.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.5.</b>
                        
                        Unspecific Redirect URIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.6" data-path="topics/threat/compromised-tokens.html">
            
                
                    <a href="../../topics/threat/compromised-tokens.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.6.</b>
                        
                        Compromised Access and Refresh tokens
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.7" data-path="topics/threat/compromised-codes.html">
            
                
                    <a href="../../topics/threat/compromised-codes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.7.</b>
                        
                        Compromised Access Codes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.8" data-path="topics/threat/open-redirect.html">
            
                
                    <a href="../../topics/threat/open-redirect.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.8.</b>
                        
                        Open Redirectors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.9" data-path="topics/threat/password-db-compromised.html">
            
                
                    <a href="../../topics/threat/password-db-compromised.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.9.</b>
                        
                        Password database compromised
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.10" data-path="topics/threat/scope.html">
            
                
                    <a href="../../topics/threat/scope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.10.</b>
                        
                        Limiting Scope
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.11" data-path="topics/threat/sql.html">
            
                
                    <a href="../../topics/threat/sql.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.11.</b>
                        
                        SQL Injection Attacks
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="19" data-path="topics/MigrationFromOlderVersions.html">
            
                
                    <a href="../../topics/MigrationFromOlderVersions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Migration from older versions
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Server Administration Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <div class="sect2">
<h3 id="_ldap">LDAP and Active Directory</h3>
<div class="paragraph">
<p>Keycloak comes with a built-in LDAP/AD plugin.
By default, it is set up only to import username, email, first name, and last name. But you are free to configure additional <a href="#_ldap_mappers">mappers</a>
and add more attributes or delete the default ones.
It supports password validation via LDAP/AD protocols and different user metadata synchronization modes.
To configure a federated LDAP store go to the Admin Console.
Click on the <code>User Federation</code> left menu option.
When you get to this page there is an <code>Add Provider</code> select box.
You should see <em>ldap</em> within this list.
Selecting <em>ldap</em> will bring you to the ldap configuration page.</p>
</div>
<div class="sect3">
<h4 id="_edit_mode">Edit Mode</h4>
<div class="paragraph">
<p>Users, through the <a href="../account.html#_account-service">User Account Service</a>, and admins through the Admin Console
have the ability to modify user metadata.  Depending on your setup you may or may not have LDAP update privileges.  The
<code>Edit Mode</code> configuration option defines the edit policy you have with your LDAP store.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">READONLY</dt>
<dd>
<p>Username, email, first name, last name, and other mapped attributes will be unchangeable.
Keycloak will show an error anytime anybody tries to update these fields.
Also, password updates will not be supported.</p>
</dd>
<dt class="hdlist1">WRITABLE</dt>
<dd>
<p>Username, email, first name, last name, and other mapped attributes and passwords can all be updated and will be synchronized automatically with your LDAP store.</p>
</dd>
<dt class="hdlist1">UNSYNCED</dt>
<dd>
<p>Any changes to username, email, first name, last name, and passwords will be stored in Keycloak local storage.
It is up to you to figure out how to synchronize back to LDAP. This allows Keycloak deployments to support
updates of user metadata on a read-only LDAP server.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other_config_options">Other config options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Console Display Name</dt>
<dd>
<p>Name used when this provider is referenced in the admin console</p>
</dd>
<dt class="hdlist1">Priority</dt>
<dd>
<p>The priority of this provider when looking up users or for adding registrations.</p>
</dd>
<dt class="hdlist1">Sync Registrations</dt>
<dd>
<p>If a new user is added through a registration page or admin console, should the user be eligible to be synchronized to this provider?</p>
</dd>
<dt class="hdlist1">Allow Kerberos authentication</dt>
<dd>
<p>Enable Kerberos/SPNEGO authentication in realm with users data provisioned from LDAP.
More info in <a href="../authentication/kerberos.html#_kerberos">Kerberos section</a>.</p>
</dd>
<dt class="hdlist1">Other options</dt>
<dd>
<p>The rest of the configuration options should be self explanatory.
You can mouseover the tooltips in Admin Console to see some more details about them.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_connect_to_ldap_over_ssl">Connect to LDAP over SSL</h4>
<div class="paragraph">
<p>When you configure a secured connection URL to your LDAP store(for example <code>ldaps://myhost.com:636</code> ),
Keycloak will use SSL for the communication with LDAP server.
The important thing is to properly configure a truststore on the Keycloak server side, otherwise Keycloak can&#x2019;t trust the SSL connection to LDAP.</p>
</div>
<div class="paragraph">
<p>The global truststore for the Keycloak can be configured with the Truststore SPI.  Please check out the <a href="https://keycloak.gitbooks.io/server-installation-and-configuration/content/" target="_blank">Server Installation and Configuration Guide</a> for more detail.
If you don&#x2019;t configure the truststore SPI, the truststore will fallback to the default mechanism provided by Java (either the file provided by system property <code>javax.net.ssl.trustStore</code>
or the cacerts file from the JDK if the system property is not set).</p>
</div>
<div class="paragraph">
<p>There is a configuration property <code>Use Truststore SPI</code> in the LDAP federation provider configuration, where you can choose whether the Truststore SPI is used.
By default, the value is <code>Only for ldaps</code>, which is fine for most deployments.  The Truststore SPI will only be used
if the connection to LDAP starts with <code>ldaps</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sync_of_ldap_users_to_keycloak">Sync of LDAP users to Keycloak</h4>
<div class="paragraph">
<p>LDAP Federation Provider will automatically take care of synchronization (import) of needed LDAP users into the Keycloak local database.
As users log in, the LDAP Federation provider will import the LDAP user
into the Keycloak database and then authenticate against the LDAP password. This is the only time users will be imported.
If you go to the <code>Users</code> left menu item in the Admin Console and click the <code>View all users</code> button, you will only see those LDAP users that
have been authenticated at least once by Keycloak.  It is implemented this way so that admins don&#x2019;t accidentally try to import a huge LDAP DB of users.</p>
</div>
<div class="paragraph">
<p>If you want to sync all LDAP users into the Keycloak database, you may configure and enable the <code>Sync Settings</code> of the LDAP provider you configured.
There are 2 types of synchronization:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Periodic Full sync</dt>
<dd>
<p>This will synchronize all LDAP users into Keycloak DB.
Those LDAP users, which already exist in Keycloak and were changed in LDAP directly will be updated in Keycloak DB
(For example if user <code>Mary Kelly</code> was changed in LDAP to <code>Mary Smith</code>).</p>
</dd>
<dt class="hdlist1">Periodic Changed users sync</dt>
<dd>
<p>When syncing occurs, only those users that were created or updated after the last sync will be updated and/or imported.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The best way to handle syncing is to click the <code>Synchronize all users</code> button when you first create the LDAP provider,
then set up a periodic sync of changed users.  The configuration page for your LDAP Provider has several options to support you.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ldap_mappers">LDAP/Federation mappers</h4>
<div class="paragraph">
<p>LDAP mappers are <code>listeners</code>, which are triggered by the LDAP Federation provider at various points, provide another extension point to LDAP integration.
They are triggered when a user logs in via LDAP and needs to be imported, during Keycloak initiated registration, or when a user is queried from the Admin Console.
When you create an LDAP Federation provider, Keycloak will automatically provide set of builtin <code>mappers</code> for this provider.
You are free to change this set and create a new mapper or update/delete existing ones.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">User Attribute Mapper</dt>
<dd>
<p>This allows you to specify which LDAP attribute is mapped to which attribute of Keycloak user.
So, for example, you can configure that LDAP attribute <code>mail</code> to the attribute <code>email</code> in the Keycloak database.
For this mapper implementation, there is always a one-to-one mapping (one LDAP attribute is mapped to one Keycloak attribute)</p>
</dd>
<dt class="hdlist1">FullName Mapper</dt>
<dd>
<p>This allows you to specify that the full name of the user, which is saved in some LDAP attribute (usually <code>cn</code> ) will be mapped to <code>firstName</code> and <code>lastname</code> attributes in the Keycloak database.
Having <code>cn</code> to contain full name of user is a common case for some LDAP deployments.</p>
</dd>
<dt class="hdlist1">Role Mapper</dt>
<dd>
<p>This allows you to configure role mappings from LDAP into Keycloak role mappings.
One Role mapper can be used to map LDAP roles (usually groups from a particular branch of LDAP tree) into roles corresponding to either realm roles or client roles of a specified client.
It&#x2019;s not a problem to configure more Role mappers for the same LDAP provider.
So for example you can specify that role mappings from groups under
<code>ou=main,dc=example,dc=org</code> will be mapped to realm role mappings and role mappings from groups under
<code>ou=finance,dc=example,dc=org</code> will be mapped to client role mappings of client <code>finance</code> .</p>
</dd>
<dt class="hdlist1">Hardcoded Role Mapper</dt>
<dd>
<p>This mapper will grant a specified Keycloak role to each Keycloak user linked with LDAP.</p>
</dd>
<dt class="hdlist1">Group Mapper</dt>
<dd>
<p>This allows you to configure group mappings from LDAP into Keycloak group mappings.
Group mapper can be used to map LDAP groups from a particular branch of an LDAP tree into groups in Keycloak.
It will also propagate user-group mappings from LDAP into user-group mappings in Keycloak.</p>
</dd>
<dt class="hdlist1">MSAD User Account Mapper</dt>
<dd>
<p>This mapper is specific to Microsoft Active Directory (MSAD). It&#x2019;s able to tightly integrate the MSAD user account state
into the Keycloak account state (account enabled, password is expired etc).
It&#x2019;s using the <code>userAccountControl</code> and <code>pwdLastSet</code> LDAP attributes.  (both are specific to MSAD and are not LDAP standard).
For example if <code>pwdLastSet</code> is <code>0</code>, the Keycloak user is required to update their password
and there will be an UPDATE_PASSWORD required action added to the user. If <code>userAccountControl</code> is
<code>514</code> (disabled account) the Keycloak user is disabled as well.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>By default, there is set of User Attribute mappers that map basic Keycloak user attributes like username, first name, lastname, and email to corresponding LDAP attributes.
You are free to extend these and provide additional attribute mappings.
Admin console provides tooltips, which should help with configuring the corresponding mappers.</p>
</div>
</div>
</div>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../topics/user-federation.html" class="navigation navigation-prev " aria-label="Previous page: User Storage Federation"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../topics/user-federation/custom.html" class="navigation navigation-next " aria-label="Next page: Custom Providers"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-ungrey/ungrey.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"toggle-chapters":{},"ungrey":{},"splitter":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book Server Administration Guide -->
</html>
