<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Server Installation and Configuration Guide -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Database Configuration | Server Installation and Configuration Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../../topics/mongo.html" />
    
    
    <link rel="prev" href="../../topics/database/datasource.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="5.4"
        data-chapter-title="Database Configuration"
        data-filepath="topics/database/hibernate.adoc"
        data-basepath="../.."
        data-revision="Wed Feb 08 2017 07:51:28 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="topics/overview.html">
            
                
                    <a href="../../topics/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="topics/overview/recommended-reading.html">
            
                
                    <a href="../../topics/overview/recommended-reading.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Recommended Reading
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="topics/installation.html">
            
                
                    <a href="../../topics/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Installation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="topics/installation/system-requirements.html">
            
                
                    <a href="../../topics/installation/system-requirements.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        System Requirements
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="topics/installation/distribution-files-community.html">
            
                
                    <a href="../../topics/installation/distribution-files-community.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Installing Distribution Files
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="topics/installation/distribution-files-product.html">
            
                
                    <a href="../../topics/installation/distribution-files-product.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Installing Distribution Files
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="topics/installation/directory-structure.html">
            
                
                    <a href="../../topics/installation/directory-structure.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Distribution Directory Structure
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="topics/operating-mode.html">
            
                
                    <a href="../../topics/operating-mode.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Choosing an Operating Mode
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="topics/operating-mode/standalone.html">
            
                
                    <a href="../../topics/operating-mode/standalone.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Standalone Mode
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="topics/operating-mode/standalone-ha.html">
            
                
                    <a href="../../topics/operating-mode/standalone-ha.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Standalone Clustered Mode
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="topics/operating-mode/domain.html">
            
                
                    <a href="../../topics/operating-mode/domain.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Domain Clustered Mode
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="topics/config-subsystem.html">
            
                
                    <a href="../../topics/config-subsystem.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Managing Configuration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="topics/config-subsystem/configure-spi-providers.html">
            
                
                    <a href="../../topics/config-subsystem/configure-spi-providers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Configure SPI Providers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="topics/config-subsystem/start-cli.html">
            
                
                    <a href="../../topics/config-subsystem/start-cli.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Start CLI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="topics/config-subsystem/cli-recipes.html">
            
                
                    <a href="../../topics/config-subsystem/cli-recipes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        CLI Recipes
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="topics/database.html">
            
                
                    <a href="../../topics/database.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Relational Database Setup
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="topics/database/checklist.html">
            
                
                    <a href="../../topics/database/checklist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Setup Checklist
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="topics/database/jdbc.html">
            
                
                    <a href="../../topics/database/jdbc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        JDBC Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="topics/database/datasource.html">
            
                
                    <a href="../../topics/database/datasource.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Datasource Setup
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="5.4" data-path="topics/database/hibernate.html">
            
                
                    <a href="../../topics/database/hibernate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Database Configuration
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="topics/mongo.html">
            
                
                    <a href="../../topics/mongo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Mongo DB Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="topics/network.html">
            
                
                    <a href="../../topics/network.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Network Setup
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="topics/network/bind-address.html">
            
                
                    <a href="../../topics/network/bind-address.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Bind Addresses
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="topics/network/ports.html">
            
                
                    <a href="../../topics/network/ports.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Socket Port Bindings
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="topics/network/https.html">
            
                
                    <a href="../../topics/network/https.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        HTTPS/SSL Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="topics/network/outgoing.html">
            
                
                    <a href="../../topics/network/outgoing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Outgoing HTTP Requests
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="topics/clustering.html">
            
                
                    <a href="../../topics/clustering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Clustering
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="topics/clustering/recommended.html">
            
                
                    <a href="../../topics/clustering/recommended.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Recommended Network Architecture
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="topics/clustering/example.html">
            
                
                    <a href="../../topics/clustering/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Cluster Example
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="topics/clustering/load-balancer.html">
            
                
                    <a href="../../topics/clustering/load-balancer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Setting Up a Load Balancer or Proxy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="topics/clustering/multicast.html">
            
                
                    <a href="../../topics/clustering/multicast.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Multicast Network Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="topics/clustering/serialized.html">
            
                
                    <a href="../../topics/clustering/serialized.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Serialized Cluster Startup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="topics/clustering/booting.html">
            
                
                    <a href="../../topics/clustering/booting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        Booting the Cluster
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="topics/clustering/troubleshooting.html">
            
                
                    <a href="../../topics/clustering/troubleshooting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.7.</b>
                        
                        Troubleshooting
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="topics/cache.html">
            
                
                    <a href="../../topics/cache.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Server Cache Configuration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="topics/cache/eviction.html">
            
                
                    <a href="../../topics/cache/eviction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Eviction Policy and Max Entries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="topics/cache/replication.html">
            
                
                    <a href="../../topics/cache/replication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Replication and Failover
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="topics/cache/disable.html">
            
                
                    <a href="../../topics/cache/disable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        Disabling Caching
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="topics/cache/clear.html">
            
                
                    <a href="../../topics/cache/clear.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Clearing Caches at Runtime
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="topics/proxy.html">
            
                
                    <a href="../../topics/proxy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Keycloak Security Proxy
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Server Installation and Configuration Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <div class="sect2">
<h3 id="_database_configuration">Database Configuration</h3>
<div class="paragraph">
<p>The configuration for this component lies in the <code>standalone.xml</code>, <code>standalone-ha.xml</code>, or <code>domain.xml</code> file
in your distribution.  The location of this file
depends on your <a href="../operating-mode.html#_operating-mode">operating mode</a>.</p>
</div>
<div class="listingblock">
<div class="title">Database Config</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-title">spi</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;connectionsJpa&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">provider</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;default&quot;</span> <span class="hljs-attribute">enabled</span>=<span class="hljs-value">&quot;true&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;dataSource&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;java:jboss/datasources/KeycloakDS&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;initializeEmpty&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;false&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;migrationStrategy&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;manual&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;migrationExport&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;${jboss.home.dir}/keycloak-database-update.sql&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">provider</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">spi</span>&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Possible configuration options are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">dataSource</dt>
<dd>
<p>JNDI name of the dataSource</p>
</dd>
<dt class="hdlist1">jta</dt>
<dd>
<p>boolean property to specify if datasource is JTA capable</p>
</dd>
<dt class="hdlist1">driverDialect</dt>
<dd>
<p>Value of database dialect.
In most cases you don&#x2019;t need to specify this property as dialect will be autodetected by Hibernate.</p>
</dd>
<dt class="hdlist1">initializeEmpty</dt>
<dd>
<p>Initialize database if empty. If set to false the database has to be manually initialized. If you want to manually initialize the database set migrationStrategy to <code>manual</code> which will create a file with SQL commands to initialize the database. Defaults to true.</p>
</dd>
<dt class="hdlist1">migrationStrategy</dt>
<dd>
<p>Strategy to use to migrate database. Valid values are <code>update</code>, <code>manual</code> and <code>validate</code>. Update will automatically migrate the database schema. Manual will export the required changes to a file with SQL commands that you can manually execute on the database. Validate will simply check if the database is up-to-date.</p>
</dd>
<dt class="hdlist1">migrationExport</dt>
<dd>
<p>Path for where to write manual database initialization/migration file.</p>
</dd>
<dt class="hdlist1">showSql</dt>
<dd>
<p>Specify whether Hibernate should show all SQL commands in the console (false by default).  This is very verbose!</p>
</dd>
<dt class="hdlist1">formatSql</dt>
<dd>
<p>Specify whether Hibernate should format SQL commands (true by default)</p>
</dd>
<dt class="hdlist1">globalStatsInterval</dt>
<dd>
<p>Will log global statistics from Hibernate about executed DB queries and other things.
Statistics are always reported to server log at specified interval (in seconds) and are cleared after each report.</p>
</dd>
<dt class="hdlist1">schema</dt>
<dd>
<p>Specify the database schema to use</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
All these configuration switches and more are described in the <a href="https://docs.jboss.org/author/display/WFLY10/JPA+Reference+Guide#JPAReferenceGuide-Hibernateproperties" target="_blank">WildFly 10 Documentation</a>.
</td>
</tr>
</table>
</div>
</div>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../topics/database/datasource.html" class="navigation navigation-prev " aria-label="Previous page: Datasource Setup"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../topics/mongo.html" class="navigation navigation-next " aria-label="Next page: Mongo DB Setup"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-ungrey/ungrey.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"toggle-chapters":{},"ungrey":{},"splitter":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book Server Installation and Configuration Guide -->
</html>
