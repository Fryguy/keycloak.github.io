<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Server Developer Guide -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Service Provider Interfaces (SPI) | Server Developer Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../topics/extensions.html" />
    
    
    <link rel="prev" href="../topics/custom-attributes.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="5"
        data-chapter-title="Service Provider Interfaces (SPI)"
        data-filepath="topics/providers.adoc"
        data-basepath=".."
        data-revision="Wed Feb 08 2017 07:52:30 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="topics/preface.html">
            
                
                    <a href="../topics/preface.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Preface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="topics/admin-rest-api.html">
            
                
                    <a href="../topics/admin-rest-api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Admin REST API
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="topics/themes.html">
            
                
                    <a href="../topics/themes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Themes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="topics/custom-attributes.html">
            
                
                    <a href="../topics/custom-attributes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Custom User Attributes
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="5" data-path="topics/providers.html">
            
                
                    <a href="../topics/providers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Service Provider Interfaces (SPI)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="topics/extensions.html">
            
                
                    <a href="../topics/extensions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Extending Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="topics/auth-spi.html">
            
                
                    <a href="../topics/auth-spi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Authentication SPI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="topics/events.html">
            
                
                    <a href="../topics/events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Event Listener SPI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="topics/user-federation.html">
            
                
                    <a href="../topics/user-federation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        User Federation SPI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="topics/user-federation-mapper.html">
            
                
                    <a href="../topics/user-federation-mapper.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        User Federation Mapper SPI
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Server Developer Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <div class="sect1">
<h2 id="_providers">Service Provider Interfaces (SPI)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak is designed to cover most use-cases without requiring custom code, but we also want it to be customizable.
To achive this Keycloak has a number of Service Provider Interfaces (SPI) which you can implement your own providers for.</p>
</div>
<div class="sect2">
<h3 id="_implementing_a_spi">Implementing a SPI</h3>
<div class="paragraph">
<p>To implement an SPI you need to implement it&#x2019;s ProviderFactory and Provider interfaces. You also need to create a service configuration file.</p>
</div>
<div class="paragraph">
<p>For example to implement the Event Listener SPI you need to implement EventListenerProviderFactory and EventListenerProvider and also provide the file
<code>META-INF/services/org.keycloak.events.EventListenerProviderFactory</code>.</p>
</div>
<div class="paragraph">
<p>Example EventListenerProviderFactory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">package</span> org.acme.provider;

<span class="hljs-keyword">import</span> ...

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyEventListenerProviderFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">EventListenerProviderFactory</span> </span>{

    <span class="hljs-keyword">private</span> List&lt;Event&gt; events;

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;my-event-listener&quot;</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(Config.Scope config)</span> </span>{
        events = <span class="hljs-keyword">new</span> LinkedList();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">postInit</span><span class="hljs-params">(KeycloakSessionFactory factory)</span> </span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> EventListenerProvider <span class="hljs-title">create</span><span class="hljs-params">(KeycloakSession session)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MyEventListenerProvider(events);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span> </span>{
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Keycloak creates a single instance of <code>EventListenerProviderFactory</code> which makes it possible to store state for multiple requests.
<code>EventListenerProvider</code> instances are created by calling create on the factory for each requests so these should be light-weight object.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example EventListenerProvider:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">package</span> org.acme.provider;

<span class="hljs-keyword">import</span> ...

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyEventListenerProvider</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">EventListenerProvider</span> </span>{

    <span class="hljs-keyword">private</span> List&lt;Event&gt; events;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyEventListenerProvider</span><span class="hljs-params">(List&lt;Event&gt; events)</span> </span>{
        <span class="hljs-keyword">this</span>.events = events;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onEvent</span><span class="hljs-params">(Event event)</span> </span>{
        events.add(event);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span> </span>{

    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onEvent</span><span class="hljs-params">(AdminEvent event, <span class="hljs-keyword">boolean</span> includeRepresentation)</span> </span>{
        <span class="hljs-comment">// Assume this implementation just ignores admin events</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example service configuration file (<code>META-INF/services/org.keycloak.events.EventListenerProviderFactory</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>org.acme.provider.MyEventListenerProviderFactory</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can configure your provider through <code>keycloak-server.json</code>. For example by adding the following to <code>keycloak-server.json</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&quot;eventsListener&quot;: {
  &quot;my-event-listener&quot; {
     &quot;aNumber&quot;: 10,
     &quot;aString&quot;: &quot;Foo&quot;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can retrieve the config in the <code>ProviderFactory</code> init method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(Config.Scope config)</span> </span>{
    Integer aNumber = config.getInt(<span class="hljs-string">&quot;aNumber&quot;</span>);
    String aString = config.get(<span class="hljs-string">&quot;aString&quot;</span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your provider can also lookup other providers if needed. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyEventListenerProvider</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">EventListenerProvider</span> </span>{

    <span class="hljs-keyword">private</span> KeycloakSession session;
    <span class="hljs-keyword">private</span> List&lt;Event&gt; events;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyEventListenerProvider</span><span class="hljs-params">(KeycloakSession session, List&lt;Event&gt; events)</span> </span>{
        <span class="hljs-keyword">this</span>.session = session;
        <span class="hljs-keyword">this</span>.events = events;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onEvent</span><span class="hljs-params">(Event event)</span> </span>{
        RealmModel realm = session.realms().getRealm(event.getRealmId());
        UserModel user = session.users().getUserById(event.getUserId(), realm);

        EmailSenderProvider emailSender = session.getProvider(EmailSenderProvider.class);
        emailSender.send(realm, user, <span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;Hello plain text&quot;</span>, <span class="hljs-string">&quot;&lt;h1&gt;Hello html&lt;/h1&gt;&quot;</span> );
    }

    ...

}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_providers_admin_console">Show info from you SPI implementation in Keycloak admin console</h4>
<div class="paragraph">
<p>Sometimes it is useful to show additional info about your Provider to a Keycloak administrator. You can show provider build time informations (eg. version of
custom provider currently installed), current configuration of the provider (eg. url of remote system your provider talks to) or some operational info
(average time of response from remote system your provider talks to). Keycloak admin console provides Server Info page to show this kind of information.</p>
</div>
<div class="paragraph">
<p>To show info from your provider it is enough to implement <code>org.keycloak.provider.ServerInfoAwareProviderFactory</code> interface in your <code>ProviderFactory</code>.</p>
</div>
<div class="paragraph">
<p>Example implementation for <code>MyEventListenerProviderFactory</code> from previous example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">package</span> org.acme.provider;

<span class="hljs-keyword">import</span> ...

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyEventListenerProviderFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">EventListenerProviderFactory</span>, <span class="hljs-title">ServerInfoAwareProviderFactory</span> </span>{
    ...

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> Map&lt;String, String&gt; getOperationalInfo() {
        Map&lt;String, String&gt; ret = <span class="hljs-keyword">new</span> LinkedHashMap&lt;&gt;();
        ret.put(<span class="hljs-string">&quot;version&quot;</span>, <span class="hljs-string">&quot;1.0&quot;</span>);
        ret.put(<span class="hljs-string">&quot;listSizeMax&quot;</span>, max + <span class="hljs-string">&quot;&quot;</span>);
        ret.put(<span class="hljs-string">&quot;listSizeCurrent&quot;</span>, events.size() + <span class="hljs-string">&quot;&quot;</span>);
        <span class="hljs-keyword">return</span> ret;
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_registering_provider_implementations">Registering provider implementations</h3>
<div class="paragraph">
<p>Keycloak can load provider implementations from JBoss Modules or directly from the file-system.
Using Modules is recommended as you can control exactly what classes are available to your provider.
Any providers loaded from the file-system uses a classloader with the Keycloak classloader as its parent.</p>
</div>
<div class="sect3">
<h4 id="_register_a_provider_using_modules">Register a provider using Modules</h4>
<div class="paragraph">
<p>To register a provider using Modules first create a module.
To do this you can either use the jboss-cli script or manually create a folder inside <code>KEYCLOAK_HOME/modules</code> and add your jar and a <code>module.xml</code>.
For example to add the event listener sysout example provider using the <code>jboss-cli</code> script execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.keycloak.examples.event-sysout --resources=target/event-listener-sysout-example.jar --dependencies=org.keycloak.keycloak-core,org.keycloak.keycloak-server-spi,org.keycloak.keycloak-events-api&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or to manually create it start by creating the folder <code>KEYCLOAK_HOME/modules/org/keycloak/examples/event-sysout/main</code>.
Then copy <code>event-listener-sysout-example.jar</code> to this folder and create <code>module.xml</code> with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;org.keycloak.examples.event-sysout&quot;&gt;
    &lt;resources&gt;
        &lt;resource-root path=&quot;event-listener-sysout-example.jar&quot;/&gt;
    &lt;/resources&gt;
    &lt;dependencies&gt;
        &lt;module name=&quot;org.keycloak.keycloak-core&quot;/&gt;
        &lt;module name=&quot;org.keycloak.keycloak-server-spi&quot;/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you&#x2019;ve created the module you need to register this module with Keycloak.
This is done by editing keycloak-server.json and adding it to the providers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    &quot;providers&quot;: [
        ...
        &quot;module:org.keycloak.examples.event-sysout&quot;
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_register_a_provider_using_file_system">Register a provider using file-system</h4>
<div class="paragraph">
<p>To register your provider simply copy the JAR including the ProviderFactory and Provider classes and the provider configuration file to server&#x2019;s root <code>providers</code> directory.</p>
</div>
<div class="paragraph">
<p>You can also define multiple provider class-path if you want to create isolated class-loaders.
To do this edit keycloak-server.json and add more classpath entries to the providers array.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    &quot;providers&quot;: [
        &quot;classpath:provider1.jar;lib-v1.jar&quot;,
        &quot;classpath:provider2.jar;lib-v2.jar&quot;
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example will create two separate class-loaders for providers.
The classpath entries follow the same syntax as Java classpath, with &apos;;&apos; separating multiple-entries.
Wildcard is also supported allowing loading all jars (files with .jar or .JAR extension) in a folder, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    &quot;providers&quot;: [
        &quot;classpath:/home/user/providers/*&quot;
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_a_provider">Configuring a provider</h4>
<div class="paragraph">
<p>You can pass configuration options to your provider by setting them in <code>keycloak-server.json</code>.
For example to set the max value for <code>my-event-listener</code> add:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    &quot;eventsListener&quot;: {
        &quot;my-event-listener&quot;: {
            &quot;max&quot;: 100
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_disabling_a_provider">Disabling a provider</h4>
<div class="paragraph">
<p>You can disable a provider by setting the enabled field for the provider to false in <code>keycloak-server.json</code>.
For example to disable the Infinispan user cache provider add:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
&quot;userCache&quot;: {
    &quot;infinispan&quot; : {
        &quot;enabled&quot;: false
    }
}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_available_spis">Available SPIs</h3>
<div class="paragraph">
<p>Here&#x2019;s a list of the most important available SPIs and a brief description. For more details on each SPI refer to individual sections.
If you want to see list of all available SPIs at runtime, you can check <code>Server Info</code> page in admin console as described in <a href="providers.html#_providers_admin_console">Admin Console</a> section.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SPI</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connections Infinispan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Loads and configures Infinispan connections. The default implementation can load connections from the Infinispan subsystem, or alternatively can be manually configured in keycloak-server.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connections Jpa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Loads and configures Jpa connections. The default implementation can load datasources from WildFly/EAP, or alternatively can be manually configured in keycloak-server.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connections Mongo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Loads and configures MongoDB connections. The default implementation is configured in keycloak-server.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email Sender</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends email. The default implementation uses JavaMail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email Template</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format email and uses Email Sender to send the email. The default implementation uses FreeMarker templates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Listener</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listen to user related events for example user login success and failures. Keycloak provides two implementations out of box. One that logs events to the server log and another that can send email notifications to users on certain events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Login Protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides protocols. Keycloak provides implementations of OpenID Connect and SAML 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides realm and application meta-data. Keycloak provides implementations for Relational Databases and MongoDB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realm Cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caches realm and application meta-data to improve performance. Default implementation uses Infinispan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes scheduled tasks. Keycloak provides a basic implementation based on java.util.Timer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides users and role-mappings. Keycloak provides implementations for Relational Databases and MongoDB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caches users to improve performance. Default implementation uses Infinispan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Federation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Support syncing users from an external source. Keycloak provides implementations for LDAP and Active Directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Sessions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides users session information. Keycloak provides implementations for basic in-memory, Infinispan, Relational Databases and MongoDB</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../topics/custom-attributes.html" class="navigation navigation-prev " aria-label="Previous page: Custom User Attributes"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../topics/extensions.html" class="navigation navigation-next " aria-label="Next page: Extending Server"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ungrey/ungrey.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"toggle-chapters":{},"ungrey":{},"splitter":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book Server Developer Guide -->
</html>
